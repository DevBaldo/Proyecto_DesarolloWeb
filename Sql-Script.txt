DROP SCHEMA IF EXISTS Trainex; 
DROP USER IF EXISTS 'admin'@'%'; 

CREATE DATABASE Trainex;
USE Trainex;

CREATE USER 'admin'@'%' IDENTIFIED BY 'admin';

GRANT ALL PRIVILEGES ON Trainex.* TO 'admin'@'%';
FLUSH PRIVILEGES;

CREATE TABLE Suplementos (
    ID INT NOT NULL AUTO_INCREMENT,
    Nombre VARCHAR(100),
    Descripcion VARCHAR(255),
    Precio DECIMAL(10, 2),
    ImagenURL VARCHAR(255),
    PRIMARY KEY (ID)
) ENGINE = InnoDB DEFAULT CHARACTER SET = utf8mb4;

CREATE TABLE Vestimenta (
    ID INT NOT NULL AUTO_INCREMENT,
    Nombre VARCHAR(100),
    Talla VARCHAR(10),
    Precio DECIMAL(10, 2),
    ImagenURL VARCHAR(255),
    PRIMARY KEY (ID)
) ENGINE = InnoDB DEFAULT CHARACTER SET = utf8mb4;

CREATE TABLE Implementos (
    ID INT NOT NULL AUTO_INCREMENT,
    Nombre VARCHAR(100),
    Descripcion VARCHAR(255),
    Precio DECIMAL(10, 2),
    ImagenURL VARCHAR(255),
    PRIMARY KEY (ID)
) ENGINE = InnoDB DEFAULT CHARACTER SET = utf8mb4;

CREATE TABLE Promociones (
    ID INT NOT NULL AUTO_INCREMENT,
    Descripcion VARCHAR(255),
    Descuento DECIMAL(10, 2),
    FechaInicio DATE,
    FechaFin DATE,
    ImagenURL VARCHAR(255),
    PRIMARY KEY (ID)
) ENGINE = InnoDB DEFAULT CHARACTER SET = utf8mb4;

USE Trainex;

INSERT INTO Suplementos (Nombre, Descripcion, Precio, ImagenURL) VALUES
('Suplemento1', 'lorem ipsum dolor sit amet consectetur adipiscing elit tellus dictumst hac volutpat', 100.00, 'https://htmlcolors.com/color-image/ff8700.png'),
('Suplemento2', 'venenatis nibh dignissim mauris quam montes proin at praesent', 200.00, 'https://htmlcolors.com/color-image/ff8700.png'),
('Suplemento3', 'lorem ipsum dolor sit amet consectetur adipiscing elit tellus dictumst hac volutpat', 300.00, 'https://htmlcolors.com/color-image/ff8700.png'),
('Suplemento4', 'venenatis nibh dignissim mauris quam montes proin at praesent', 400.00, 'https://htmlcolors.com/color-image/ff8700.png'),
('Suplemento5', 'lorem ipsum dolor sit amet consectetur adipiscing elit tellus dictumst hac volutpat', 500.00, 'https://htmlcolors.com/color-image/ff8700.png'),
('Suplemento6', 'lorem ipsum dolor sit amet consectetur adipiscing elit tellus dictumst hac volutpat', 600.00, 'https://htmlcolors.com/color-image/ff8700.png'),
('Suplemento7', 'venenatis nibh dignissim mauris quam montes proin at praesent', 700.00, 'https://htmlcolors.com/color-image/ff8700.png'),
('Suplemento8', 'lorem ipsum dolor sit amet consectetur adipiscing elit tellus dictumst hac volutpat', 800.00, 'https://htmlcolors.com/color-image/ff8700.png'),
('Suplemento9', 'venenatis nibh dignissim mauris quam montes proin at praesent', 900.00, 'https://htmlcolors.com/color-image/ff8700.png'),
('Suplemento10', 'lorem ipsum dolor sit amet consectetur adipiscing elit tellus dictumst hac volutpat', 1000.00, 'https://htmlcolors.com/color-image/ff8700.png');

INSERT INTO Vestimenta (Nombre, Talla, Precio, ImagenURL) VALUES
('Vestimenta1', 'M', 100.00, 'https://htmlcolors.com/color-image/4d82bc.png'),
('Vestimenta2', 'L', 200.00, 'https://htmlcolors.com/color-image/4d82bc.png'),
('Vestimenta3', 'S', 300.00, 'https://htmlcolors.com/color-image/4d82bc.png'),
('Vestimenta4', 'XL', 400.00, 'https://htmlcolors.com/color-image/4d82bc.png'),
('Vestimenta5', 'XXL', 500.00, 'https://htmlcolors.com/color-image/4d82bc.png'),
('Vestimenta6', 'M', 600.00, 'https://htmlcolors.com/color-image/4d82bc.png'),
('Vestimenta7', 'L', 700.00, 'https://htmlcolors.com/color-image/4d82bc.png'),
('Vestimenta8', 'S', 800.00, 'https://htmlcolors.com/color-image/4d82bc.png'),
('Vestimenta9', 'XL', 900.00, 'https://htmlcolors.com/color-image/4d82bc.png'),
('Vestimenta10', 'XXL', 1000.00, 'https://htmlcolors.com/color-image/4d82bc.png');

INSERT INTO Implementos (Nombre, Descripcion, Precio, ImagenURL) VALUES
('Implemento1', 'lorem ipsum dolor sit amet consectetur adipiscing elit tellus dictumst hac volutpat', 100.00, 'https://htmlcolors.com/color-image/42ab49.png'),
('Implemento2', 'venenatis nibh dignissim mauris quam montes proin at praesent', 200.00, 'https://htmlcolors.com/color-image/42ab49.png'),
('Implemento3', 'lorem ipsum dolor sit amet consectetur adipiscing elit tellus dictumst hac volutpat', 300.00, 'https://htmlcolors.com/color-image/42ab49.png'),
('Implemento4', 'venenatis nibh dignissim mauris quam montes proin at praesent', 400.00, 'https://htmlcolors.com/color-image/42ab49.png'),
('Implemento5', 'lorem ipsum dolor sit amet consectetur adipiscing elit tellus dictumst hac volutpat', 500.00, 'https://htmlcolors.com/color-image/42ab49.png'),
('Implemento6', 'lorem ipsum dolor sit amet consectetur adipiscing elit tellus dictumst hac volutpat', 600.00, 'https://htmlcolors.com/color-image/42ab49.png'),
('Implemento7', 'venenatis nibh dignissim mauris quam montes proin at praesent', 700.00, 'https://htmlcolors.com/color-image/42ab49.png'),
('Implemento8', 'lorem ipsum dolor sit amet consectetur adipiscing elit tellus dictumst hac volutpat', 800.00, 'https://htmlcolors.com/color-image/42ab49.png'),
('Implemento9', 'venenatis nibh dignissim mauris quam montes proin at praesent', 900.00, 'https://htmlcolors.com/color-image/42ab49.png'),
('Implemento10', 'lorem ipsum dolor sit amet consectetur adipiscing elit tellus dictumst hac volutpat', 1000.00, 'https://htmlcolors.com/color-image/42ab49.png');

INSERT INTO Promociones (Descripcion, Descuento, FechaInicio, FechaFin, ImagenURL) VALUES
('Promocion1', 10.00, '2024-01-01', '2024-12-31', 'https://htmlcolors.com/color-image/e2504c.png'),
('Promocion2', 20.00, '2024-01-01', '2024-12-31', 'https://htmlcolors.com/color-image/e2504c.png'),
('Promocion3', 30.00, '2024-01-01', '2024-12-31', 'https://htmlcolors.com/color-image/e2504c.png'),
('Promocion4', 40.00, '2024-01-01', '2024-12-31', 'https://htmlcolors.com/color-image/e2504c.png'),
('Promocion5', 50.00, '2024-01-01', '2024-12-31', 'https://htmlcolors.com/color-image/e2504c.png'),
('Promocion6', 60.00, '2024-01-01', '2024-12-31', 'https://htmlcolors.com/color-image/e2504c.png'),
('Promocion7', 70.00, '2024-01-01', '2024-12-31', 'https://htmlcolors.com/color-image/e2504c.png'),
('Promocion8', 80.00, '2024-01-01', '2024-12-31', 'https://htmlcolors.com/color-image/e2504c.png'),
('Promocion9', 90.00, '2024-01-01', '2024-12-31', 'https://htmlcolors.com/color-image/e2504c.png'),
('Promocion10', 100.00, '2024-01-01', '2024-12-31', 'https://htmlcolors.com/color-image/e2504c.png');

CREATE TABLE Reviews (
    id INT AUTO_INCREMENT PRIMARY KEY,
    content TEXT,
    rating INT,
    implemento_id INT,
    suplemento_id INT,
    vestimenta_id INT,
    FOREIGN KEY (implemento_id) REFERENCES Implementos(id) ON DELETE CASCADE,
    FOREIGN KEY (suplemento_id) REFERENCES Suplementos(id) ON DELETE CASCADE,
    FOREIGN KEY (vestimenta_id) REFERENCES Vestimenta(id) ON DELETE CASCADE
)ENGINE = InnoDB DEFAULT CHARACTER SET = utf8mb4;


CREATE TABLE CartItems (
    id INT AUTO_INCREMENT PRIMARY KEY,
    implemento_id INT,
    suplemento_id INT,
    vestimenta_id INT,
    FOREIGN KEY (implemento_id) REFERENCES Implementos(id) ON DELETE CASCADE,
    FOREIGN KEY (suplemento_id) REFERENCES Suplementos(id) ON DELETE CASCADE,
    FOREIGN KEY (vestimenta_id) REFERENCES Vestimenta(id) ON DELETE CASCADE
) ENGINE = InnoDB DEFAULT CHARACTER SET = utf8mb4;